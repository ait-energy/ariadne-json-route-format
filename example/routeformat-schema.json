{
  "type" : "object",
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RouteFormatRoot",
  "properties" : {
    "request" : {
      "type" : "object",
      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RoutingRequest",
      "required" : true,
      "properties" : {
        "departureTime" : {
          "type" : "string"
        },
        "routes" : {
          "type" : "array",
          "required" : true,
          "items" : {
            "type" : "object",
            "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Route",
            "properties" : {
              "departureTime" : {
                "type" : "string",
                "required" : true
              },
              "durationSeconds" : {
                "type" : "integer",
                "required" : true
              },
              "arrivalTime" : {
                "type" : "string",
                "required" : true
              },
              "from" : {
                "type" : "object",
                "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
                "required" : true
              },
              "to" : {
                "type" : "object",
                "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
                "required" : true
              },
              "lengthMeters" : {
                "type" : "integer",
                "required" : true
              },
              "segments" : {
                "type" : "array",
                "required" : true,
                "items" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RouteSegment",
                  "properties" : {
                    "departureTime" : {
                      "type" : "string",
                      "required" : true
                    },
                    "nr" : {
                      "type" : "integer",
                      "required" : true
                    },
                    "durationSeconds" : {
                      "type" : "integer",
                      "required" : true
                    },
                    "modeOfTransport" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FOOT", "BICYCLE", "MOTORCYCLE", "CAR", "PUBLIC_TRANSPORT" ]
                    },
                    "navigationInstructions" : {
                      "type" : "array",
                      "items" : {
                        "type" : "object",
                        "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:NavigationInstruction",
                        "properties" : {
                          "metersToNextDecisionPoint" : {
                            "type" : "integer"
                          },
                          "landmarkName" : {
                            "type" : "string"
                          },
                          "turnTriggerPosition" : {
                            "type" : "object",
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>",
                            "required" : true
                          },
                          "confirmationTriggerPosition" : {
                            "type" : "object",
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>"
                          },
                          "turnDirection" : {
                            "type" : "string",
                            "required" : true,
                            "enum" : [ "ORIGIN", "DESTINATION", "CONTINUE_STRAIGHT", "KEEP_STRAIGHT", "KEEP_LEFT", "KEEP_RIGHT", "TURN_LEFT", "TURN_RIGHT", "TURN_SLIGHT_LEFT", "TURN_SLIGHT_RIGHT", "TURN_SHARP_LEFT", "TURN_SHARP_RIGHT", "U_TURN", "ROUNDABOUT_THIRD_EXIT", "ROUNDABOUT_SECOND_EXIT", "ROUNDABOUT_FIRST_EXIT", "ROUNDABOUT_ENTER", "ROUNDABOUT_STAY", "ROUNDABOUT_EXIT_NOW", "ESCALATOR_DOWN", "ESCALATOR_UP", "ELEVATOR_DOWN", "ELEVATOR_UP", "STAIRS_UP", "STAIRS_DOWN", "PUBLIC_TRANSPORT_BOARD", "PUBLIC_TRANSPORT_ALIGHT", "PUBLIC_TRANSPORT_STAY" ]
                          },
                          "landmarkType" : {
                            "type" : "string",
                            "required" : true
                          },
                          "preposition" : {
                            "type" : "string",
                            "required" : true,
                            "enum" : [ "BEFORE", "AT", "AFTER" ]
                          },
                          "previewTriggerPosition" : {
                            "type" : "object",
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>"
                          },
                          "target" : {
                            "type" : "string",
                            "required" : true
                          }
                        }
                      }
                    },
                    "lengthMeters" : {
                      "type" : "integer",
                      "required" : true
                    },
                    "operator" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Operator",
                      "properties" : {
                        "website" : {
                          "type" : "string"
                        },
                        "phoneNumber" : {
                          "type" : "string"
                        },
                        "name" : {
                          "type" : "string",
                          "required" : true
                        }
                      }
                    },
                    "vehicle" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Vehicle",
                      "properties" : {
                        "electric" : {
                          "type" : "boolean"
                        },
                        "id" : {
                          "type" : "string"
                        },
                        "type" : {
                          "type" : "string",
                          "required" : true,
                          "enum" : [ "TRAIN", "LIGHTRAIL", "SUBWAY", "MONORAIL", "TRAM", "BUS", "TROLLEYBUS", "AERIALWAY", "FERRY", "PRIVATE_BICYCLE", "SHARED_BICYCLE", "PRIVATE_MOTORCYCLE", "SHARED_MOTORCYCLE", "PRIVATE_CAR", "SHARED_CAR", "TAXI", "CALL_TAXI" ]
                        }
                      }
                    },
                    "geometryEncodedPolyLine" : {
                      "type" : "string"
                    },
                    "geometryGeoJsonEdges" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeatureCollection<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>",
                      "properties" : {
                        "features" : {
                          "type" : "array",
                          "required" : true,
                          "items" : {
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>"
                          }
                        },
                        "type" : {
                          "type" : "string",
                          "required" : true,
                          "enum" : [ "FeatureCollection", "Feature", "Point", "LineString" ]
                        }
                      }
                    },
                    "arrivalTime" : {
                      "type" : "string",
                      "required" : true
                    },
                    "from" : {
                      "type" : "object",
                      "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
                      "required" : true
                    },
                    "to" : {
                      "type" : "object",
                      "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
                      "required" : true
                    },
                    "intermediateStops" : {
                      "type" : "array",
                      "items" : {
                        "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location"
                      }
                    },
                    "geometryGeoJson" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>",
                      "properties" : {
                        "geometry" : {
                          "type" : "object",
                          "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString",
                          "required" : true,
                          "properties" : {
                            "coordinates" : {
                              "type" : "array",
                              "required" : true,
                              "items" : {
                                "type" : "array",
                                "items" : {
                                  "type" : "number"
                                }
                              }
                            },
                            "type" : {
                              "type" : "string",
                              "required" : true,
                              "enum" : [ "FeatureCollection", "Feature", "Point", "LineString" ]
                            }
                          }
                        },
                        "type" : {
                          "type" : "string",
                          "required" : true,
                          "enum" : [ "FeatureCollection", "Feature", "Point", "LineString" ]
                        },
                        "properties" : {
                          "type" : "object",
                          "required" : true,
                          "additionalProperties" : {
                            "type" : "any"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "arrivalTime" : {
          "type" : "string"
        },
        "from" : {
          "type" : "object",
          "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
          "required" : true,
          "properties" : {
            "country" : {
              "type" : "string"
            },
            "city" : {
              "type" : "string"
            },
            "streetname" : {
              "type" : "string"
            },
            "housenumber" : {
              "type" : "string"
            },
            "relatedLines" : {
              "type" : "array",
              "items" : {
                "type" : "string"
              }
            },
            "poiType" : {
              "type" : "string"
            },
            "postcode" : {
              "type" : "string"
            },
            "name" : {
              "type" : "string"
            },
            "position" : {
              "type" : "object",
              "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>",
              "required" : true,
              "properties" : {
                "geometry" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint",
                  "required" : true,
                  "properties" : {
                    "coordinates" : {
                      "type" : "array",
                      "required" : true,
                      "items" : {
                        "type" : "number"
                      }
                    },
                    "type" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FeatureCollection", "Feature", "Point", "LineString" ]
                    }
                  }
                },
                "type" : {
                  "type" : "string",
                  "required" : true,
                  "enum" : [ "FeatureCollection", "Feature", "Point", "LineString" ]
                },
                "properties" : {
                  "type" : "object",
                  "required" : true,
                  "additionalProperties" : {
                    "type" : "any"
                  }
                }
              }
            },
            "type" : {
              "type" : "string",
              "required" : true,
              "enum" : [ "ADDRESS", "POI", "PUBLIC_TRANSPORT_STOP" ]
            }
          }
        },
        "id" : {
          "type" : "string",
          "required" : true
        },
        "to" : {
          "type" : "object",
          "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Location",
          "required" : true
        }
      }
    },
    "coordinateReferenceSystem" : {
      "type" : "string",
      "required" : true
    },
    "calculationTime" : {
      "type" : "string"
    },
    "debugMessage" : {
      "type" : "string"
    },
    "status" : {
      "type" : "string",
      "required" : true,
      "enum" : [ "OK", "ERROR" ]
    }
  }
}