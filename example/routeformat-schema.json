{
  "type" : "object",
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RouteFormatRoot",
  "properties" : {
    "coordinateReferenceSystem" : {
      "type" : "string",
      "required" : true
    },
    "request" : {
      "type" : "object",
      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RoutingRequest",
      "properties" : {
        "departureTime" : {
          "type" : "string"
        },
        "accessibilityRestrictions" : {
          "type" : "array",
          "items" : {
            "type" : "string",
            "enum" : [ "STAIRS", "ESCALATOR", "ELEVATOR", "WHEELCHAIR_ACCESSIBLE", "NOT_WHEELHAIR_ACCESSIBLE" ]
          }
        },
        "acceptedDelayMinutes" : {
          "type" : "integer"
        },
        "modesOfTransport" : {
          "type" : "array",
          "required" : true,
          "items" : {
            "type" : "string",
            "enum" : [ "FOOT", "BICYCLE", "MOTORCYCLE", "CAR", "PUBLIC_TRANSPORT" ]
          }
        },
        "language" : {
          "type" : "string"
        },
        "optimizedFor" : {
          "type" : "string",
          "required" : true
        },
        "via" : {
          "type" : "array",
          "items" : {
            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location"
          }
        },
        "arrivalTime" : {
          "type" : "string"
        },
        "additionalInfo" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "any"
          }
        },
        "from" : {
          "type" : "object",
          "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
          "required" : true,
          "properties" : {
            "coordinate" : {
              "type" : "object",
              "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>",
              "properties" : {
                "geometry" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint",
                  "required" : true,
                  "properties" : {
                    "coordinates" : {
                      "type" : "array",
                      "required" : true,
                      "items" : {
                        "type" : "number"
                      }
                    },
                    "type" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                    }
                  }
                },
                "type" : {
                  "type" : "string",
                  "required" : true,
                  "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                },
                "properties" : {
                  "type" : "object",
                  "required" : true,
                  "additionalProperties" : {
                    "type" : "any"
                  }
                }
              }
            },
            "address" : {
              "type" : "object",
              "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Address",
              "properties" : {
                "country" : {
                  "type" : "string"
                },
                "streetName" : {
                  "type" : "string"
                },
                "city" : {
                  "type" : "string"
                },
                "houseNumber" : {
                  "type" : "string"
                },
                "postCode" : {
                  "type" : "string"
                }
              }
            },
            "additionalInfo" : {
              "type" : "object",
              "additionalProperties" : {
                "type" : "string"
              }
            }
          }
        },
        "to" : {
          "type" : "object",
          "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
          "required" : true
        },
        "serviceId" : {
          "type" : "string",
          "required" : true
        },
        "privateVehicleLocations" : {
          "type" : "object",
          "additionalProperties" : {
            "type" : "array",
            "items" : {
              "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location"
            }
          }
        }
      }
    },
    "routes" : {
      "type" : "array",
      "required" : true,
      "items" : {
        "type" : "object",
        "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Route",
        "properties" : {
          "departureTime" : {
            "type" : "string"
          },
          "boundingBox" : {
            "type" : "object",
            "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPolygon>",
            "properties" : {
              "geometry" : {
                "type" : "object",
                "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPolygon",
                "required" : true,
                "properties" : {
                  "coordinates" : {
                    "type" : "array",
                    "required" : true,
                    "items" : {
                      "type" : "array",
                      "items" : {
                        "type" : "array",
                        "items" : {
                          "type" : "number"
                        }
                      }
                    }
                  },
                  "type" : {
                    "type" : "string",
                    "required" : true,
                    "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                  }
                }
              },
              "type" : {
                "type" : "string",
                "required" : true,
                "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
              },
              "properties" : {
                "type" : "object",
                "required" : true,
                "additionalProperties" : {
                  "type" : "any"
                }
              }
            }
          },
          "simplifiedGeometryEncodedPolyLine" : {
            "type" : "string"
          },
          "durationSeconds" : {
            "type" : "integer",
            "required" : true
          },
          "type" : {
            "type" : "string",
            "enum" : [ "FOOT", "BICYCLE", "MOTORCYCLE", "CAR", "PUBLIC_TRANSPORT", "TAXI", "TAXI_SHARED", "CAR_SHARED", "BICYCLE_SHARED", "CAR_AND_PUBLIC_TRANSPORT", "BICYCLE_AND_PUBLIC_TRANSPORT", "SHARED_CAR_AND_PUBLIC_TRANSPORT", "SHARED_BICYCLE_AND_PUBLIC_TRANSPORT", "TAXI_AND_PUBLIC_TRANSPORT", "SHARED_TAXI_AND_PUBLIC_TRANSPORT", "SHARED_CAR_AND_SHARED_BICYCLE", "INTERMODAL_OTHER" ]
          },
          "lengthMeters" : {
            "type" : "integer",
            "required" : true
          },
          "simplifiedGeometryGeoJson" : {
            "type" : "object",
            "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>",
            "properties" : {
              "geometry" : {
                "type" : "object",
                "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString",
                "required" : true,
                "properties" : {
                  "coordinates" : {
                    "type" : "array",
                    "required" : true,
                    "items" : {
                      "type" : "array",
                      "items" : {
                        "type" : "number"
                      }
                    }
                  },
                  "type" : {
                    "type" : "string",
                    "required" : true,
                    "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                  }
                }
              },
              "type" : {
                "type" : "string",
                "required" : true,
                "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
              },
              "properties" : {
                "type" : "object",
                "required" : true,
                "additionalProperties" : {
                  "type" : "any"
                }
              }
            }
          },
          "segments" : {
            "type" : "array",
            "required" : true,
            "items" : {
              "type" : "object",
              "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:RouteSegment",
              "properties" : {
                "departureTime" : {
                  "type" : "string"
                },
                "boundingBox" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPolygon>",
                  "properties" : {
                    "geometry" : {
                      "type" : "object",
                      "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPolygon",
                      "required" : true
                    },
                    "type" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                    },
                    "properties" : {
                      "type" : "object",
                      "required" : true,
                      "additionalProperties" : {
                        "type" : "any"
                      }
                    }
                  }
                },
                "nr" : {
                  "type" : "integer",
                  "required" : true
                },
                "durationSeconds" : {
                  "type" : "integer",
                  "required" : true
                },
                "boardingSeconds" : {
                  "type" : "integer"
                },
                "alightingSeconds" : {
                  "type" : "integer"
                },
                "accessibility" : {
                  "type" : "array",
                  "items" : {
                    "type" : "string",
                    "enum" : [ "STAIRS", "ESCALATOR", "ELEVATOR", "WHEELCHAIR_ACCESSIBLE", "NOT_WHEELHAIR_ACCESSIBLE" ]
                  }
                },
                "modeOfTransport" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:ModeOfTransport",
                  "required" : true,
                  "properties" : {
                    "accessibility" : {
                      "type" : "array",
                      "items" : {
                        "type" : "string",
                        "enum" : [ "STAIRS", "ESCALATOR", "ELEVATOR", "WHEELCHAIR_ACCESSIBLE", "NOT_WHEELHAIR_ACCESSIBLE" ]
                      }
                    },
                    "service" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Service",
                      "properties" : {
                        "color" : {
                          "type" : "string"
                        },
                        "name" : {
                          "type" : "string"
                        },
                        "additionalInfo" : {
                          "type" : "object",
                          "additionalProperties" : {
                            "type" : "any"
                          }
                        },
                        "towards" : {
                          "type" : "string"
                        }
                      }
                    },
                    "additionalInfo" : {
                      "type" : "object",
                      "additionalProperties" : {
                        "type" : "any"
                      }
                    },
                    "generalizedType" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FOOT", "BICYCLE", "MOTORCYCLE", "CAR", "PUBLIC_TRANSPORT" ]
                    },
                    "detailedType" : {
                      "type" : "string",
                      "enum" : [ "TRAIN", "LIGHTRAIL", "SUBWAY", "MONORAIL", "TRAM", "BUS", "TROLLEYBUS", "AERIALWAY", "SHIP", "AIRPLANE", "BICYCLE", "MOTORCYCLE", "CAR", "TAXI", "FOOT", "TRANSFER" ]
                    },
                    "id" : {
                      "type" : "string"
                    },
                    "operator" : {
                      "type" : "object",
                      "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:Operator",
                      "properties" : {
                        "website" : {
                          "type" : "string"
                        },
                        "address" : {
                          "type" : "object",
                          "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Address",
                          "properties" : {
                            "country" : {
                              "type" : "string"
                            },
                            "streetName" : {
                              "type" : "string"
                            },
                            "city" : {
                              "type" : "string"
                            },
                            "houseNumber" : {
                              "type" : "string"
                            },
                            "postCode" : {
                              "type" : "string"
                            }
                          }
                        },
                        "customerServicePhone" : {
                          "type" : "string"
                        },
                        "name" : {
                          "type" : "string",
                          "required" : true
                        },
                        "additionalInfo" : {
                          "type" : "object",
                          "additionalProperties" : {
                            "type" : "any"
                          }
                        },
                        "id" : {
                          "type" : "string"
                        },
                        "customerServiceEmail" : {
                          "type" : "string"
                        }
                      }
                    }
                  }
                },
                "navigationInstructions" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:instruction:Instruction",
                    "properties" : {
                      "confirmationTriggerPosition" : {
                        "type" : "object",
                        "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>",
                        "properties" : {
                          "geometry" : {
                            "type" : "object",
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint",
                            "required" : true
                          },
                          "type" : {
                            "type" : "string",
                            "required" : true,
                            "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                          },
                          "properties" : {
                            "type" : "object",
                            "required" : true,
                            "additionalProperties" : {
                              "type" : "any"
                            }
                          }
                        }
                      },
                      "position" : {
                        "type" : "object",
                        "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>"
                      },
                      "previewTriggerPosition" : {
                        "type" : "object",
                        "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint>",
                        "properties" : {
                          "geometry" : {
                            "type" : "object",
                            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONPoint",
                            "required" : true
                          },
                          "type" : {
                            "type" : "string",
                            "required" : true,
                            "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                          },
                          "properties" : {
                            "type" : "object",
                            "required" : true,
                            "additionalProperties" : {
                              "type" : "any"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "lengthMeters" : {
                  "type" : "integer",
                  "required" : true
                },
                "geometryEncodedPolyLine" : {
                  "type" : "string"
                },
                "geometryGeoJsonEdges" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeatureCollection<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>",
                  "properties" : {
                    "features" : {
                      "type" : "array",
                      "required" : true,
                      "items" : {
                        "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>"
                      }
                    },
                    "type" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                    }
                  }
                },
                "arrivalTime" : {
                  "type" : "string"
                },
                "additionalInfo" : {
                  "type" : "object",
                  "additionalProperties" : {
                    "type" : "any"
                  }
                },
                "from" : {
                  "type" : "object",
                  "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
                  "required" : true
                },
                "to" : {
                  "type" : "object",
                  "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
                  "required" : true
                },
                "intermediateStops" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:IntermediateStop",
                    "properties" : {
                      "estimatedDepartureTime" : {
                        "type" : "string"
                      },
                      "stop" : {
                        "type" : "object",
                        "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location"
                      },
                      "plannedArrivalTime" : {
                        "type" : "string"
                      },
                      "plannedDepartureTime" : {
                        "type" : "string"
                      },
                      "estimatedArrivalTime" : {
                        "type" : "string"
                      }
                    }
                  }
                },
                "geometryGeoJson" : {
                  "type" : "object",
                  "id" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONFeature<at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString>",
                  "properties" : {
                    "geometry" : {
                      "type" : "object",
                      "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:geojson:GeoJSONLineString",
                      "required" : true
                    },
                    "type" : {
                      "type" : "string",
                      "required" : true,
                      "enum" : [ "FeatureCollection", "Feature", "Point", "LineString", "Polygon" ]
                    },
                    "properties" : {
                      "type" : "object",
                      "required" : true,
                      "additionalProperties" : {
                        "type" : "any"
                      }
                    }
                  }
                }
              }
            }
          },
          "arrivalTime" : {
            "type" : "string"
          },
          "additionalInfo" : {
            "type" : "object",
            "additionalProperties" : {
              "type" : "any"
            }
          },
          "from" : {
            "type" : "object",
            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
            "required" : true
          },
          "to" : {
            "type" : "object",
            "$ref" : "urn:jsonschema:at:ac:ait:ariadne:routeformat:location:Location",
            "required" : true
          },
          "id" : {
            "type" : "string"
          }
        }
      }
    },
    "requestId" : {
      "type" : "string",
      "required" : true
    },
    "routeFormatVersion" : {
      "type" : "string",
      "required" : true
    },
    "additionalInfo" : {
      "type" : "object",
      "additionalProperties" : {
        "type" : "any"
      }
    },
    "debugMessage" : {
      "type" : "string"
    },
    "processedTime" : {
      "type" : "string",
      "required" : true
    },
    "status" : {
      "type" : "string",
      "required" : true,
      "enum" : [ "OK", "INVALID_REQUEST", "ERROR" ]
    }
  }
}