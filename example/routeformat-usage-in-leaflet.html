<!DOCTYPE html>
<html>
<head>
    <title>Ariadne Route Format Example</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- hosted versions of Leaflet & jQuery -->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
</head>
<body>
    <div id="map" style="width: 600px; height: 400px"></div>

    <script>

        var map = L.map('map').setView([48.2690, 16.4305], 16);

        L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
            id: 'examples.map-i875mjb7'
        }).addTo(map);

        
        /** 
        expects: a feature (linestring) with properties
        returns: a style for the feature depending on the properties
        */
        function styleGeoJson(feature) {
            return {
                color: feature.properties.color,
                weight: feature.properties.weight,
                opacity: feature.properties.opacity
            };
        }
        
        $.getJSON("routeformat-example.json", function(json) {
            
            L.geoJson(json.request.from.position, {
            }).addTo(map);
            L.geoJson(json.request.to.position, {
            }).addTo(map);
            
            fullRoute = json.request.routes[0].segments[0].geometryGeoJson;
            console.log(fullRoute);
            L.geoJson(fullRoute, {
                style: function (feature) {
                    return styleGeoJson(feature);
                }
            }).addTo(map);

            edges = json.request.routes[0].segments[0].geometryGeoJsonEdges;
            console.log(edges);
            L.geoJson(edges, {
                style: function (feature) {
                    return {weight: feature.properties.edgeWeight/10, opacity: 0.3};
                }
            }).addTo(map);
        });

    </script>
</body>
</html> 
